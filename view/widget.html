<p></p>

<!--LOAD CSS STYLES-->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.1/css/materialize.min.css">
<!--BOOTSTRAP CSS STYLE-->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"/>
<link rel="stylesheet" href="lib/angular-ranger/angular-ranger.css"/>
<!--GOOGLE FONTS -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=RobotoDraft:300,400,500,700,400italic">
<!--GOOGLE ICONS-->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<!-- Compiled and minified CSS -->
<link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.1/css/materialize.min.css">

<script type="text/javascript"
        src="http://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.10.0/ui-bootstrap-tpls.js"></script>


<section>
	<div class="container-fluid" id="widget" ng-controller="WidgetCtrl">

		<div id="results">
			<!--<div class="card "><b>Welcome to Arqsi Widget</b>

				<div class="card-content">
					<div class="center-align">
						<p>Your results :</p>
						<a class="waves-light btn "><i
								class="material-icons left">done</i>{{filteredResults.length}}
						</a>
					</div>
				</div>
			</div>-->

			<!--RESULTS-->
			<p style="text-align: center"><b>Welcome the Arqsi Widget</b></p>

			<p class="center-align"><b>Your results</b></p>

			<div class="center-align" >
				<a class="waves-light btn "><i
						class="material-icons left ">done</i>{{filteredResults.length}}
				</a>

				<p></p>
			</div>

		</div>

		<link rel="stylesheet" href="css/app.css"/>

		<div class="row" id="one">
			<div class="col s12">
				<div class="sidebar-nav">
					<div class="navbar navbar-default" role="navigation">
						<div class="navbar-header">
							<button type="button" class="navbar-toggle"
							        ng-click="isCollapsed = !isCollapsed">
								<span class="sr-only">Toggle navigation</span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
							</button>
							<span class="visible-xs navbar-brand">Sidebar menu</span>
						</div>
						<div collapse="isCollapsed"
						     class="navbar-collapse collapse sidebar-navbar-collapse">
							<ul class="nav navbar-nav">

								<!--DYNAMIC FILTERS SELECTORS-->

								<!--SEARCH_TYPE FILTER-->
								<select id="tipo_de_anuncio-filter" class="DF" ng-model="query.tipo_de_anuncio"
								        ng-options="item.tipo_de_anuncio as item.tipo_de_anuncio for item in awesomeRealEstates
                      | filter:{tipo_de_imovel:query.tipo_de_imovel || undefined }
                      | filter:{localizacao:query.localizacao || undefined }
                      | filter:{mediador:query.mediador || undefined }
                      | filter:priceRange || undefined
                      | filter:areaRange || undefined
                      | unique:'tipo_de_anuncio' " material-select watch>
									<option value>Choose the searching</option>
									<option ng-repeat="item in awesomeRealEstates| filter:{tipo_de_anuncio:query} "></option>

								</select>

								<!--TYPE FILTER-->
								<select id="tipo_de_imovel-filter" class="DF" ng-model="query.tipo_de_imovel"
								        ng-options="item.tipo_de_imovel as item.tipo_de_imovel for item in awesomeRealEstates
                      | filter:{tipo_de_anuncio:query.tipo_de_anuncio || undefined}
                      | filter:{localizacao:query.localizacao || undefined}
                      | filter:{mediador:query.mediador || undefined}
                      | filter:priceRange || undefined
                      | filter:areaRange || undefined
                      | unique:'tipo_de_imovel' || undefined" material-select watch>
									<option value>Choose the type</option>
									<option ng-repeat="item in awesomeRealEstates | filter:{tipo_de_imovel:query}"></option>
								</select>

								<!--ADDRESS FILTER-->
								<select id="localizacao-filter" class="DF" ng-model="query.localizacao"
								        ng-options="item.localizacao as item.localizacao for item in awesomeRealEstates
                      | filter:{tipo_de_anuncio:query.tipo_de_anuncio || undefined}
                      | filter:{tipo_de_imovel:query.tipo_de_imovel || undefined}
                      | filter:{mediador:query.mediador || undefined}
                      | filter:priceRange || undefined
                      | filter:areaRange || undefined
                      | unique:'localizacao' || undefined" material-select watch>
									<option value>Choose the address</option>
									<option ng-repeat="item in awesomeRealEstates | filter:{localizacao:query}"></option>
								</select>

								<!--BROKER FILTER-->
								<select id="mediador-filter" class="DF" ng-model="query.mediador"
								        ng-options="item.mediador as item.mediador for item in awesomeRealEstates
                      | filter:{tipo_de_anuncio:query.tipo_de_anuncio || undefined}
                      | filter:{tipo_de_imovel:query.tipo_de_imovel || undefined}
                      | filter:{localizacao:query.localizacao || undefined}
                      | filter:priceRange
                      | filter:areaRange
                      | unique:'mediador'" material-select watch>
									<option value>Choose the broker</option>
									<option ng-repeat="item in awesomeRealEstates | filter:{mediador:query}"></option>
								</select>

								<!--CLEAR FILTERS-->
								<div class="center-align">
									<a class="waves-effect waves-light btn" ng-click="clearFilter()">Clear Filters </a>

									<p></p>
								</div>

								<br/>

								<!--SLIDER SURFACE-->
								<b>Area range:</b>
								<angular-ranger min="0" max="5000" step="10" min-value="lower_area_bound"
								                max-value="upper_area_bound"></angular-ranger>
								<div id="textbox">
									<p class="alignleft">Min: {{(lower_area_bound | number:0 ) + " m2"}} </p>

									<p class="alignright">Max: {{(upper_area_bound | number:0 ) + " m2"}}</p>
								</div>
								<div style="clear: both;"></div>


								<!--SLIDER PRICE-->
								<b>Price range:</b>
								<angular-ranger min="0" max="250000" step="1000" min-value="lower_price_bound"
								                max-value="upper_price_bound"></angular-ranger>

								<div id="textbox2">
									<p class="alignleft">Min: {{(lower_price_bound | number:0 ) + " €"}} </p>

									<p class="alignright">Max: {{(upper_price_bound | number:0) + " €"}}</p>
								</div>
								<div style="clear: both;"></div>

							</ul>
						</div>
						<!--/.nav-collapse -->
					</div>
				</div>
			</div>

		</div>

		<!--table with results-->

		<div class="row" id="two">
			<div class="col s12">
				<table class="responsive-table table-striped">
					<thead>
						<tr>
							<th data-field="tipo_de_anuncio">Search</th>
							<th data-field="tipo_de_imovel">Type</th>
							<th data-field="localizacao">Adress</th>
							<th data-field="mediador">Broker</th>
							<th data-field="area"><a class="blue-text text-darken-2" href=""
							                         ng-click="predicate='area' ; reverse=!reverse">Surface(m2)</a>
							</th>
							<th data-field="preco"><a class="blue-text text-darken-2" href=""
							                          ng-click="predicate='preco'">Price(€)</a></th>
							<th data-field="fotos">Gallery</th>
						</tr>
					</thead>

					<tbody>
						<tr ng-repeat="item in filteredResults = (awesomeRealEstates  | unique:'tipo_de_anuncio' && 'tipo_de_imovel' && 'localização' && 'mediador' && 'area' &&'preco' | orderBy:predicate | filter:query.tipo_de_anuncio  || undefined | filter:query.tipo_de_imovel  || undefined | filter:query.localizacao  || undefined| filter:query.mediador  || undefined | filter:priceRange | filter: areaRange )">
							<td>{{item.tipo_de_anuncio}}</td>
							<td>{{item.tipo_de_imovel}}</td>
							<td>{{item.localizacao}}</td>
							<td> {{item.mediador}}</td>
							<td> {{item.area}}</td>
							<td> {{item.preco}}</td>
							<td ng-repeat="fotos in item.fotos"><a class="blue-text text-darken-2" href={{fotos}}
							                                       target="_blank">Photo</a></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

	</div>
</section>



